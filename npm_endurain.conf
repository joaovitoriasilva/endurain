------------------------------------------------------------
endurain.yourdomain.com
------------------------------------------------------------

map $scheme $hsts_header {
https "max-age=63072000; preload";
}

server {
set $forward_scheme http;
set $server "your_server_ip";
set $port 8884;

listen 80;
listen [::]:80;

listen 443 ssl;
listen [::]:443 ssl;

server_name endurain.yourdomain.com;

http2 on;
Let's Encrypt SSL

include conf.d/include/letsencrypt-acme-challenge.conf;
include conf.d/include/ssl-cache.conf;
include conf.d/include/ssl-ciphers.conf;
ssl_certificate /etc/letsencrypt/live/npm-21/fullchain.pem;
ssl_certificate_key /etc/letsencrypt/live/npm-21/privkey.pem;
Asset Caching

include conf.d/include/assets.conf;
Block Exploits

include conf.d/include/block-exploits.conf;
HSTS (ngx_http_headers_module is required) (63072000 seconds = 2 years)

add_header Strict-Transport-Security $hsts_header always;
Force SSL

include conf.d/include/force-ssl.conf;

proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection $http_connection;
proxy_http_version 1.1;

access_log /data/logs/proxy-host-18_access.log proxy;
error_log /data/logs/proxy-host-18_error.log warn;

location / {
HSTS (ngx_http_headers_module is required) (63072000 seconds = 2 years)

add_header Strict-Transport-Security $hsts_header always;

proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection $http_connection;
proxy_http_version 1.1;
Proxy!

include conf.d/include/proxy.conf;
}
Custom

include /data/nginx/custom/server_proxy[.]conf;
}